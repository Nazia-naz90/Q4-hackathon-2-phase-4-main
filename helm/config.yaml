# Spec-Kit Plus Configuration
spec_kit:
  version: "1.0"
  project_name: "Todo-App-FullStack"
  description: "Full-Stack Web Application for Todo Management"

  # Project structure
  structure:
    specs_dir: "specs"
    frontend_dir: "frontend"
    backend_dir: "backend"
    history_dir: "history"
    templates_dir: ".specify/templates"
    memory_dir: ".specify/memory"

  # Feature configuration
  features:
    - name: "todo-app"
      path: "specs/todo-app"
      stages: ["spec", "plan", "tasks", "implementation"]

  # Tech stack configuration
  tech_stack:
    frontend:
      framework: "nextjs"
      version: "16+"
      router: "app-router"
      language: "typescript"
    backend:
      framework: "fastapi"
      language: "python"
      version: "3.13+"
      orm: "sqlmodel"
    database:
      type: "postgresql"
      provider: "neon"
      connection_type: "serverless"
    auth:
      provider: "better-auth"
      method: "jwt"

  # Development workflow
  workflow:
    stages:
      - "spec"
      - "plan"
      - "tasks"
      - "implementation"
      - "testing"
      - "deployment"

    # File patterns for different stages
    patterns:
      spec: "**/specs/**/*.md"
      plan: "**/specs/**/*.plan.md"
      tasks: "**/specs/**/*.tasks.md"
      frontend: "frontend/**/*"
      backend: "backend/**/*"
      tests: "**/test*"

  # Output configuration
  output:
    artifacts:
      - "history/prompts"
      - "history/adr"
      - "specs"
    formats:
      - "yaml"
      - "json"
      - "markdown"

  # Validation rules
  validation:
    required_fields:
      - "feature_name"
      - "specification"
      - "implementation_plan"
      - "tasks"
    enforce_strict_typing: true
    require_tests: true
    require_documentation: true

  # PHR (Prompt History Record) configuration
  phr:
    enabled: true
    auto_create: true
    stages:
      - "constitution"
      - "spec"
      - "plan"
      - "tasks"
      - "red"
      - "green"
      - "refactor"
      - "explainer"
      - "misc"
      - "general"
    directory: "history/prompts"
    naming:
      format: "{id}-{slug}.{stage}.prompt.md"
      slug_max_length: 50

  # ADR (Architectural Decision Record) configuration
  adr:
    enabled: true
    auto_suggest: true
    directory: "history/adr"
    naming:
      format: "{id:04d}-{title_slug}.md"
      title_max_length: 50
    significance_criteria:
      impact_threshold: "long_term"
      alternatives_required: 2
      scope_cross_cutting: true