apiVersion: v1
kind: ConfigMap
metadata:
  name: todo-app-config
  namespace: {{ include "todo-app.namespace" . }}
data:
  # Common configuration values
  LOG_LEVEL: {{ .Values.config.logLevel | quote }}
  NODE_ENV: {{ .Values.config.nodeEnv | quote }}
  PYTHON_ENV: {{ .Values.config.pythonEnv | quote }}

  # Backend configuration
  BACKEND_HOST: {{ .Values.config.backendHost | quote }}
  BACKEND_PORT: {{ .Values.config.backendPort | quote }}

  # Frontend configuration
  NEXT_PUBLIC_API_HOST: {{ .Values.config.frontendApiHost | quote }}
  NEXT_PUBLIC_API_PORT: {{ .Values.config.frontendApiPort | quote }}
  NEXT_PUBLIC_APP_URL: "http://todo-frontend:{{ .Values.frontend.service.port }}"

  # AI Agent configuration
  AGENT_HOST: {{ .Values.config.agentHost | quote }}
  AGENT_PORT: {{ .Values.config.agentPort | quote }}
  BACKEND_URL_INTERNAL: {{ .Values.config.backendUrlInternal | quote }}